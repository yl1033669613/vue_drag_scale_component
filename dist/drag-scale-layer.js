!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("drag-scale-layer",[],t):"object"==typeof exports?exports["drag-scale-layer"]=t():e["drag-scale-layer"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=1)}([function(e,t,i){"use strict";t.a={name:"dragScaleLayer",props:{layerWidth:{type:Number,default:800},layerHeight:{type:Number,default:500},layerLeft:{type:Number,default:0},layerTop:{type:Number,default:0},visible:{type:Boolean,default:!1},title:{type:String,default:""},miniW:{type:Number,default:200},miniH:{type:Number,default:200}},data:function(){return{acType:-1,visWidth:1e3,visHeight:1e3,width:800,height:500,left:0,top:0,scale:{stX:0,stY:0,currW:0,currH:0},move:{stX:0,stY:0,currL:0,currT:0},fullScreen:!1,fsWidth:0,fsHeight:0,fsLeft:0,fsTop:0}},mounted:function(){var e=this;e.getDocSize(),window.addEventListener("resize",function(){e.getDocSize(),e.fullScreen&&(e.width=e.visWidth,e.height=e.visHeight)},!1)},watch:{visible:function(e,t){e&&(this.layerLeft||(this.left=(this.visWidth-this.layerWidth)/2),this.layerTop||(this.top=(this.visHeight-this.layerHeight)/2),this.width=this.layerWidth,this.height=this.layerHeight,this.fullScreen=!1)}},methods:{getDocSize:function(){this.visWidth=document.documentElement.clientWidth||document.body.clientWidth,this.visHeight=document.documentElement.clientHeight||document.body.clientHeight},scaleHandleMousedown:function(e){this.fullScreen||(this.acType=1,this.scale.stX=e.clientX,this.scale.stY=e.clientY,this.scale.currW=this.width,this.scale.currH=this.height)},moveHandleMousedown:function(e){this.fullScreen||(this.acType=2,this.move.stX=e.clientX,this.move.stY=e.clientY,this.move.currL=this.left,this.move.currT=this.top)},handleMouseup:function(e){this.acType=-1},handleMousemove:function(e){if(1===this.acType){var t=0,i=0;t=this.scale.currW+(e.clientX-this.scale.stX),i=this.scale.currH+(e.clientY-this.scale.stY),t<=this.miniW?this.width=this.miniW:this.width=t,i<=this.miniH?this.height=this.miniH:this.height=i}2===this.acType&&(this.left=this.move.currL+(e.clientX-this.move.stX),this.top=this.move.currT+(e.clientY-this.move.stY))},handleClose:function(){this.$emit("close")},handleFullScreen:function(e){if(1==e){if(!this.fullScreen)return;this.fullScreen=!1,this.width=this.fsWidth,this.height=this.fsHeight,this.left=this.fsLeft,this.top=this.fsTop}else{if(this.fullScreen)return;this.fullScreen=!0,this.fsWidth=this.width,this.fsHeight=this.height,this.fsLeft=this.left,this.fsTop=this.top,this.width=this.visWidth,this.height=this.visHeight,this.left=0,this.top=0}}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2),s={install:function(e,t){e.component(n.a.name,n.a)}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(s),t.default=s},function(e,t,i){"use strict";function n(e){i(3)}var s=i(0),a=i(9),r=i(8),o=n,l=r(s.a,a.a,!1,o,"data-v-407a9c24",null);t.a=l.exports},function(e,t,i){var n=i(4);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(6)("358ef0be",n,!0,{})},function(e,t,i){t=e.exports=i(5)(!1),t.push([e.i,'.layer-container[data-v-407a9c24]{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:2000}.layer-mask[data-v-407a9c24]{width:100vw;height:100vh;background:rgba(0,0,0,.4)}.layer-win[data-v-407a9c24]{position:fixed;top:25vh;left:25vw;width:50vw;height:50vh;background:#fff;border-radius:3px;overflow:hidden;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;-khtml-user-select:none;user-select:none}.layer-win .layer-header[data-v-407a9c24]{position:relative;height:40px;font-size:16px;line-height:40px;padding:0 10px;cursor:move;color:#909399}.layer-win .layer-header p[data-v-407a9c24]{margin:0;display:inline-block;max-width:calc(100% - 100px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left}.layer-win .layer-header .layer-fn-btns[data-v-407a9c24]{float:right;height:100%}.layer-win .layer-header .layer-fn-btns i[data-v-407a9c24]{cursor:pointer;margin:0 5px}.layer-win .layer-header .layer-fn-btns i img[data-v-407a9c24]{width:25px;height:25px;vertical-align:middle}.layer-win .layer-header[data-v-407a9c24]:after{content:"";position:absolute;width:100%;height:1px;background:#eee;left:0;bottom:0}.layer-win .layer-content[data-v-407a9c24]{position:relative;width:100%;height:calc(100% - 40px)}.layer-win .layer-content .layer-content-mask[data-v-407a9c24]{position:absolute;top:0;left:0;z-index:100;width:100%;height:100%}.layer-win .scale-btn[data-v-407a9c24]{position:absolute;bottom:0;right:0;z-index:101;width:18px;height:18px;cursor:se-resize}.layer-win .scale-btn[data-v-407a9c24]:after{content:"";position:absolute;bottom:2px;right:2px;border-top:6px solid #656565;border-left:6px solid transparent;border-right:6px solid transparent;transform:translate(36%,36%) rotate(-45deg)}.fade-enter-active[data-v-407a9c24],.fade-leave-active[data-v-407a9c24]{transition:opacity .2s}.fade-enter[data-v-407a9c24],.fade-leave-to[data-v-407a9c24]{opacity:0}',""])},function(e,t){function i(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var a=n(s);return[i].concat(s.sources.map(function(e){return"/*# sourceURL="+s.sourceRoot+e+" */"})).concat([a]).join("\n")}return[i].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=i(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},s=0;s<this.length;s++){var a=this[s][0];"number"==typeof a&&(n[a]=!0)}for(s=0;s<e.length;s++){var r=e[s];"number"==typeof r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),t.push(r))}},t}},function(e,t,i){function n(e){for(var t=0;t<e.length;t++){var i=e[t],n=h[i.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](i.parts[s]);for(;s<i.parts.length;s++)n.parts.push(a(i.parts[s]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{for(var r=[],s=0;s<i.parts.length;s++)r.push(a(i.parts[s]));h[i.id]={id:i.id,refs:1,parts:r}}}}function s(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function a(e){var t,i,n=document.querySelector("style["+g+'~="'+e.id+'"]');if(n){if(p)return v;n.parentNode.removeChild(n)}if(y){var a=f++;n=u||(u=s()),t=r.bind(null,n,a,!1),i=r.bind(null,n,a,!0)}else n=s(),t=o.bind(null,n),i=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else i()}}function r(e,t,i,n){var s=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=m(t,s);else{var a=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function o(e,t){var i=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),A.ssrId&&e.setAttribute(g,t.id),s&&(i+="\n/*# sourceURL="+s.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=i(7),h={},d=l&&(document.head||document.getElementsByTagName("head")[0]),u=null,f=0,p=!1,v=function(){},A=null,g="data-vue-ssr-id",y="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,i,s){p=i,A=s||{};var a=c(e,t);return n(a),function(t){for(var i=[],s=0;s<a.length;s++){var r=a[s],o=h[r.id];o.refs--,i.push(o)}t?(a=c(e,t),n(a)):a=[];for(var s=0;s<i.length;s++){var o=i[s];if(0===o.refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete h[o.id]}}}};var m=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var i=[],n={},s=0;s<t.length;s++){var a=t[s],r=a[0],o=a[1],l=a[2],c=a[3],h={id:e+":"+s,css:o,media:l,sourceMap:c};n[r]?n[r].parts.push(h):i.push(n[r]={id:r,parts:[h]})}return i}},function(e,t){e.exports=function(e,t,i,n,s,a){var r,o=e=e||{},l=typeof e.default;"object"!==l&&"function"!==l||(r=e,o=e.default);var c="function"==typeof o?o.options:o;t&&(c.render=t.render,c.staticRenderFns=t.staticRenderFns,c._compiled=!0),i&&(c.functional=!0),s&&(c._scopeId=s);var h;if(a?(h=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=h):n&&(h=n),h){var d=c.functional,u=d?c.render:c.beforeCreate;d?(c._injectStyles=h,c.render=function(e,t){return h.call(t),u(e,t)}):c.beforeCreate=u?[].concat(u,h):[h]}return{esModule:r,exports:o,options:c}}},function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"fade"}},[e.visible?i("div",{staticClass:"layer-container",on:{mousemove:function(t){e.handleMousemove(t)},mouseup:function(t){e.handleMouseup(t)}}},[i("div",{staticClass:"layer-mask",on:{click:e.handleClose}}),e._v(" "),i("div",{staticClass:"layer-win",style:{width:e.width+"px",height:e.height+"px",left:e.left+"px",top:e.top+"px"}},[i("div",{staticClass:"layer-header",on:{mousedown:function(t){e.moveHandleMousedown(t)}}},[i("p",[e._v(e._s(e.title))]),e._v(" "),i("div",{staticClass:"layer-fn-btns"},[e.fullScreen?i("i",{on:{click:function(t){e.handleFullScreen(1)}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzNBMDlCRDBBNTFFMTFFOEFBQkNEMENCNTdCODIxRUUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzNBMDlCRDFBNTFFMTFFOEFBQkNEMENCNTdCODIxRUUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3M0EwOUJDRUE1MUUxMUU4QUFCQ0QwQ0I1N0I4MjFFRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3M0EwOUJDRkE1MUUxMUU4QUFCQ0QwQ0I1N0I4MjFFRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkpC/0oAAAD/SURBVHjaYvz//z8DrQHjqCWjltDPEkZGRhiTE4jPAbE0EP8l0rx/QPwGiOuB5q4gxhIQsAViXhIsUQXiaiB+BjTXGCbIgkWhORAXQX1wH4h/g+wmwoLzQDwJiPmBOBBZApslM4FYH4g3QDUQArCgmAjEp4D4ExD/JGQJDxDPAOJMEuP3JRCLAzEbugQTFsXfgFiAjETEjO4DfJZQHQxJS0D5hAMar3gtYURKMeTEywcgfo2a/oCZERkDwV0gXkiGBe+AuArqcA5kM7El4etAHAfEllCXMRCZVwSB+BE0yH4QKrtAhscCsSwpZSAQXwbiPlhQIZs7Wp+MUEsAAgwA0t1wYsj+U0MAAAAASUVORK5CYII=",alt:""}})]):e._e(),e._v(" "),e.fullScreen?e._e():i("i",{on:{click:function(t){e.handleFullScreen(2)}}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTg4M0JFMkFBNTFFMTFFOEIxMThBNDZGMjBENTBBNzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTg4M0JFMkJBNTFFMTFFOEIxMThBNDZGMjBENTBBNzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1ODgzQkUyOEE1MUUxMUU4QjExOEE0NkYyMEQ1MEE3NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1ODgzQkUyOUE1MUUxMUU4QjExOEE0NkYyMEQ1MEE3NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PlWh9u4AAACuSURBVHjaYvz//z8DrQHjqCWjltDXEkZGxnggFQ7E/EBMrCv+AvEpIF4DNPMkigzIEnQMBF+ghpOD52CYh8MSEOFFaqgA8Qcg3oFuHhMODb+AmINES3ihjvuDLsGERxMziZawwGKAFEuoBoa/JWxA/JhEs94B8T9sCYYFj6bNQHwDiFmJsABkOBcQCwHxZ2JzfCSQ8obm+H9E5hFQjj8LzSdnRkvhUUuGkSUAAQYAhViSuZhVoFcAAAAASUVORK5CYII=",alt:""}})]),e._v(" "),i("i",{on:{click:e.handleClose}},[i("img",{attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjMwQzY2RTFBNTFFMTFFODg0Njg5QUMwRDM1MTA0N0MiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjMwQzY2RTJBNTFFMTFFODg0Njg5QUMwRDM1MTA0N0MiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MzBDNjZERkE1MUUxMUU4ODQ2ODlBQzBEMzUxMDQ3QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MzBDNjZFMEE1MUUxMUU4ODQ2ODlBQzBEMzUxMDQ3QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoKfz3AAAADPSURBVHjaYvz//z8DrQETAx3AqCWjlmACRkbG60C8FIgZ8OAqIP6G1xZQPsGFgWA/SAkQT8ChPQUq/xCvOQQsAYEFUIM60SyIgYqfIehYIiwBgcVoPgqH8s8RFSJEWgICq6EG74XSN4gOdhIsAYENUAtekBS3JFiSALXgL5TuoLYlaUhxIArE06D8qdSyBJaKLoCyDpLFC5F9RIklGVCDruDIJyug8lMosQSc0QiUGjsgHsFtDgsBA7qB+CIBNY3QoMRdPI1Wv6OW0AwABBgA4JPXAFPKQMQAAAAASUVORK5CYII=",alt:""}})])])]),e._v(" "),i("div",{staticClass:"layer-content"},[e.acType>0?i("div",{staticClass:"layer-content-mask"}):e._e(),e._v(" "),e._t("default")],2),e._v(" "),i("div",{staticClass:"scale-btn",on:{mousedown:function(t){e.scaleHandleMousedown(t)}}})])]):e._e()])},s=[],a={render:n,staticRenderFns:s};t.a=a}])});
//# sourceMappingURL=drag-scale-layer.js.map